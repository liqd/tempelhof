{% extends 'base.html' %}
{% load wagtailcore_tags %}

{% block content %}
    <div class="page-header">
        <div class="l-wrapper page-header__wrapper">
            <h1 class="page-header__title">
                <i class="fa fa-calendar" aria-hidden="true"></i> {{ self.title }}
            </h1>
        </div>
    </div>
    <div class="l-wrapper">
        <div class="l-center-8">
            <div id="calendar" class="calendar"></div>
            <ul class="calendar-list calendar-list--calendar">
                {% for event in events|dictsort:'date' %}
                    <li class="calendar-list__item calendar-list__item--calendar" data-date="{{ event.date|date:'Y-n-d' }}">
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                        <div class="calendar-list__body">
                            <h2 class="calendar-list__title"><a href="{% pageurl event %}">{{ event.title }}</a></h2>
                            <h3 class="calendar-list__date">{{ event.date }}</h3>
                            <p>{{ event.short_description }}</p>
                        </div>
                    </li>
                {% endfor %}
            </ul>
            <script>
                var eventsData = {{ js_data|safe }}
            </script>
        </div>
    </div>
{% endblock %}
